@*
    Delivery Layout
    - ثابت لكل صفحات التوصيل
    - يحتوي على Sidebar + Header
    - محتوى الصفحة يعرض داخل @RenderBody()
*@

<!DOCTYPE html>
<html lang="en" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google fonts icons -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <title>@ViewData["Title"] - FeedBridge Delivery</title>
    <link rel="stylesheet" href="~/css/style.css" />
</head>

<body>
    <!-- Header -->
    <header>
        <a asp-controller="Home" asp-action="Index" class="text-decoration-none">
            <div class="header-logo">
                <img src="~/imgs/logo.png" alt="logo" class="logo-img" />
                <p>FeedBridge</p>
            </div>
        </a>
        <a asp-controller="Home" asp-action="Index">الرئيسية</a>
        @await Component.InvokeAsync("Notifications")

        <div class="header-icons">
           @*  <div class="notifications-container">
                <span class="material-symbols-outlined notifications-icon"> notifications </span>
                <div class="notifications-box">
                    <h3>الاشعارات</h3>
                    <ul>
                        <li>طلبك وصل!</li>
                        <li>مرحبا بيك في منصة FeedBridge</li>
                        <li>هناك توصيلات جديدة</li>
                    </ul>
                </div>
            </div> *@
            

            @if (User.Identity != null && User.Identity.IsAuthenticated)
            {
                <a asp-controller="User" asp-action="Profile" asp-route-id="@User.FindFirst(System.Security.Claims.ClaimTypes.NameIdentifier)?.Value">
                    <span class="material-symbols-outlined"> account_circle </span>
                </a>
            }
        </div>

    </header>

    <div class="page">
        <!-- Sidebar -->
        <div class="sidebar">
            <ul>
                <li class="@(ViewData["ActivePage"] as string == "Dashboard" ? "active" : "")">
                    <a asp-controller="Delivery" asp-action="Dashboard">
                        <span class="material-symbols-outlined"> settings </span>
                        <p>لوحة التحكم</p>
                    </a>
                </li>
                <li class="@(ViewData["ActivePage"] as string == "Orders" ? "active" : "")">
                    <a asp-controller="Delivery" asp-action="Orders">
                        <span class="material-symbols-outlined"> add_circle </span>
                        <p>الطلبات</p>
                    </a>
                </li>
                <li class="@(ViewData["ActivePage"] as string == "Donations" ? "active" : "")">
                    <a asp-controller="Delivery" asp-action="Donations">
                        <span class="material-symbols-outlined"> favorite </span>
                        <p>التبرعات</p>
                    </a>
                </li>
                <li class="@(ViewData["ActivePage"] as string == "Deliveries" ? "active" : "")">
                    <a asp-controller="Delivery" asp-action="MyOrders">
                        <span class="material-symbols-outlined"> favorite </span>
                        <p>التوصيلات الخاصه بي</p>
                    </a>
                </li>
                <li class="@(ViewData["ActivePage"] as string == "Donations" ? "active" : "")">
                    <a asp-controller="Delivery" asp-action="MyDonations">
                        <span class="material-symbols-outlined"> favorite </span>
                        <p>التوصيلات الخاصه بالتبرعات</p>
                    </a>
                </li>
                <form asp-controller="Account" asp-action="Logout" method="post" style="display:inline;">
                    <button type="submit" class="btn btn-primary" style="background-color:#1cba7f;border:none;color:white;">
                        تسجيل خروج
                    </button>
                </form>
            </ul>
        </div>

        <!-- Page Content -->
        <div class="content-page">
            @RenderBody()
        </div>
    </div>

    <script src="~/js/maindash.js"></script>
</body>
</html>
